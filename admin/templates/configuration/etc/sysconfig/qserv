# Configuration file for Qserv services 
# Automatically generated using meta-configuration file:
# {{QSERV_META_CONFIG_FILE}}

# Configuration variables
# used by Qserv and dependencies
#################################

# used by all
QSERV_RUN_DIR={{QSERV_RUN_DIR}}
# used by mysql-proxy, xrootd, qserv-czar
QSERV_PID_DIR={{QSERV_PID_DIR}}
QSERV_LOG_DIR={{QSERV_LOG_DIR}}
# used by mysqld, mysql-proxy
QSERV_UNIX_USER={{QSERV_UNIX_USER}}
# used by mysql-proxy
QSERV_RPC_PORT={{QSERV_RPC_PORT}}
# used by xrootd
NODE_TYPE={{NODE_TYPE}}
MYSQLD_SOCK={{MYSQLD_SOCK}}
XROOTD_RUN_DIR={{XROOTD_RUN_DIR}}

# Pathes to Qserv and dependencies
# installation directories 
###################################

# used by mysqld
MYSQL_DIR={{MYSQL_DIR}}
# used by xrootd
XROOTD_DIR={{XROOTD_DIR}}
# used by mysql-proxy
QSERV_DIR={{QSERV_DIR}}
LUA_DIR={{LUA_DIR}}

# Environment variables
########################

# used by all
export PATH={{PATH}}
# used by qserv-czar
export PYTHONPATH={{PYTHONPATH}}
# used by qserv-czar, xrootd
export LD_LIBRARY_PATH={{LD_LIBRARY_PATH}}


# Debug settings
#################

# used by all
# Make sure core file is not discarded
ulimit -c unlimited

# used by qserv-czar
export QSW_RESULTDIR=${QSERV_RUN_DIR}/qserv-run/tmp
# Disabling buffering in python in order to enable "real-time" logging.
export PYTHONUNBUFFERED=1

export XRD_LOGLEVEL=Debug
export XRDSSIDEBUG=1

# Increase timeouts, without that, long-running queries fail.
# The proper fix is coming, see DM-3433
export XRD_REQUESTTIMEOUT=64000
export XRD_STREAMTIMEOUT=64000
export XRD_DATASERVERTTL=64000
export XRD_TIMEOUTRESOLUTION=64000


